"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6975],{347:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"basic/lk-flat-list-view","title":"LKFlatListView","description":"A view that represents a flat list of items.","source":"@site/docs/basic/lk-flat-list-view.md","sourceDirName":"basic","slug":"/basic/lk-flat-list-view","permalink":"/ListKit/docs/basic/lk-flat-list-view","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/basic/lk-flat-list-view.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"lk-flat-list-view","title":"LKFlatListView","description":"A view that represents a flat list of items.","sidebar_label":"LKFlatListView","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u57fa\u7840","permalink":"/ListKit/docs/category/\u57fa\u7840"},"next":{"title":"LKSectionListView","permalink":"/ListKit/docs/basic/lk-section-list-view"}}');var s=i(4848),l=i(8453);const a={id:"lk-flat-list-view",title:"LKFlatListView",description:"A view that represents a flat list of items.",sidebar_label:"LKFlatListView",sidebar_position:1},o=void 0,r={},d=[{value:"\u4f55\u65f6\u4f7f\u7528",id:"\u4f55\u65f6\u4f7f\u7528",level:2},{value:"\u5982\u4f55\u4f7f\u7528",id:"\u5982\u4f55\u4f7f\u7528",level:2},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:2},{value:"\u6570\u636e\u6e90\u7ba1\u7406",id:"\u6570\u636e\u6e90\u7ba1\u7406",level:3},{value:"\u6d41\u5f0f\u5e03\u5c40",id:"\u6d41\u5f0f\u5e03\u5c40",level:3},{value:"\u7ec4\u5408\u5e03\u5c40",id:"\u7ec4\u5408\u5e03\u5c40",level:3},{value:"\u5757\u5217\u8868",id:"\u5757\u5217\u8868",level:4},{value:"\u7f51\u683c\u5217\u8868",id:"\u7f51\u683c\u5217\u8868",level:4},{value:"\u7011\u5e03\u6d41\u5217\u8868",id:"\u7011\u5e03\u6d41\u5217\u8868",level:4},{value:"\u591a\u7c7b\u578b\u5143\u7d20",id:"\u591a\u7c7b\u578b\u5143\u7d20",level:3},{value:"\u4e8b\u4ef6\u5904\u7406",id:"\u4e8b\u4ef6\u5904\u7406",level:3},{value:"\u63a5\u53e3\u6587\u6863",id:"\u63a5\u53e3\u6587\u6863",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"LKFlatListView \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u7b80\u5355\u5217\u8868\u7ec4\u4ef6\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679c\u9700\u8981\u5206\u7ec4/\u7c7b/\u533a\uff08section\uff09\uff0c\u8bf7\u4f7f\u7528 ",(0,s.jsx)(n.a,{href:"./lk-section-list-view",children:"LKSectionListView"})]}),"\n",(0,s.jsx)(n.h2,{id:"\u4f55\u65f6\u4f7f\u7528",children:"\u4f55\u65f6\u4f7f\u7528"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5f53\u6709\u5927\u91cf\u7ed3\u6784\u5316\u7684\u6570\u636e\u9700\u8981\u5c55\u73b0\u65f6\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u5f53\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u9009\u62e9\u3001\u6392\u5e8f\u548c\u81ea\u5b9a\u4e49\u64cd\u4f5c\u7b49\u590d\u6742\u884c\u4e3a\u65f6\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5982\u4f55\u4f7f\u7528",children:"\u5982\u4f55\u4f7f\u7528"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5b9a\u4e49\u6570\u636e\u6a21\u578b"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u6570\u636e\u6a21\u578b\u5fc5\u987b\u5b9e\u73b0 Hashable \u534f\u8bae\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"class Item: Hashable {\n    let id: UUID\n    var title: String\n    var color: UIColor\n    var height: CGFloat\n\n    init(id: UUID, title: String, height: CGFloat) {\n        self.id = id\n        self.title = title\n        self.color = UIColor(\n            red: CGFloat.random(in: 0...1),\n            green: CGFloat.random(in: 0...1),\n            blue: CGFloat.random(in: 0...1),\n            alpha: 1.0\n        )\n        self.height = height\n    }\n\n    func hash(into hasher: inout Hasher) {\n        hasher.combine(id)\n    }\n\n    static func == (lhs: Item, rhs: Item) -> Bool {\n        return lhs.id == rhs.id\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u521b\u5efa\u6570\u636e\u6e90"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:'let dataSource = LKFlatListDataSource<Item>()\nvar snapshot = dataSource.snapshot()\nsnapshot.appendItems(\n    (1...100).map {\n        Item(\n            id: UUID(),\n            title: "\\($0)",\n            height: CGFloat(Int.random(in: 50...300))\n        )\n    }\n)\ndataSource.apply(snapshot, mode: .reload)\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u521b\u5efa\u5217\u8868\u9879\u89c6\u56fe"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"class ItemView: LKListItemView {\n  // ...\n    func configure(_ item: Item) {\n        label.text = item.title\n        contentView.backgroundColor = item.color\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"\u521b\u5efa\u5217\u8868\u89c6\u56fe"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:'let listView = LKFlatListView<Item>.flow(\n    frame: view.frame,\n    dataSource: dataSource,\n    inset: .fixed(top: 0, leading: 20, bottom: 0, trailing: 20),\n    item: LKListFlowItem<Item>(\n        size: .dynamic { (listView, indexPath, item: Item) in\n            return CGSize(\n                width: UIScreen.main.bounds.width / 1 - 40,\n                height: item.height\n            )\n        },,\n        render: { (itemView: ItemView, indexPath, item) in\n            itemView.configure(item)\n        }\n    )\n).onDidSelectItemAt { listView, indexPath, item in\n    print(">> \\(item.id)")\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,s.jsx)(n.h3,{id:"\u6570\u636e\u6e90\u7ba1\u7406",children:"\u6570\u636e\u6e90\u7ba1\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",metastring:"showLineNumbers",children:'// \u521d\u59cb\u5316\nlet dataSource = LKFlatListDataSource<Item>()\nvar snapshot = dataSource.snapshot()\nsnapshot.appendItems(\n    (1...100).map {\n        Item(\n            id: UUID(),\n            title: "\\($0)",\n            height: CGFloat(Int.random(in: 50...300))\n        )\n    }\n)\ndataSource.apply(snapshot, mode: .reload)\n\n// \u65b0\u589e\nvar snapshot = dataSource.snapshot()\nlet newIem = Item(\n    id: UUID(),\n    title: "\\($0)",\n    height: CGFloat(Int.random(in: 50...300))\n)\nsnapshot.appendItems([newItem])\ndataSource.apply(snapshot, mode: .normal)\n\n// \u4fee\u6539\nvar snapshot = dataSource.snapshot()\nif var firstItem = snapshot.itemIdentifiers.first {\n    firstItem.title += "."\n    snapshot.reloadItems([firstItem])\n}\ndataSource.apply(snapshot, mode: .normal)\n\n// \u5220\u9664\nvar snapshot = dataSource.snapshot()\nif let firstItem = snapshot.itemIdentifiers.first {\n    snapshot.deleteItems([firstItem])\n}\ndataSource.apply(snapshot, mode: .normal)\n\n// \u79fb\u52a8\nvar snapshot = dataSource.snapshot()\nif let firstItem = snapshot.itemIdentifiers.first,\n    let lastItem = snapshot.itemIdentifiers.last  {\n    snapshot.moveItem(firstItem, afterItem: lastItem)\n}\ndataSource.apply(snapshot, mode: .normal)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u6d41\u5f0f\u5e03\u5c40",children:"\u6d41\u5f0f\u5e03\u5c40"}),"\n",(0,s.jsx)(n.p,{children:"\u6d41\u5f0f\u5e03\u5c40\u4f1a\u6cbf\u7740\u4e3b\u8f74\u65b9\u5411\u6392\u5217\u5143\u7d20\uff0c\u5982\u679c\u6bcf\u4e2a\u5143\u7d20\u5360\u4e0d\u6ee1\u4e00\u884c/\u5217\uff0c\u90a3\u4e48\u4f1a\u4f18\u5148\u586b\u5145\u6ee1\u6539\u884c/\u5217\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4e0b\u9762\u662f\u4e00\u4e2a\u7eb5\u5411\u6392\u5217\u7684\u7684\u6d41\u5f0f\u5e03\u5c40\u5217\u8868\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",metastring:"showLineNumbers",children:"let listView = LKFlatListView<Item>.flow(\n    frame: view.frame,\n    // \u6570\u636e\u6e90\n    dataSource: dataSource,\n    // \u4e3b\u8f74\u65b9\u5411\n    scrollDirection: .vertical,\n    // \u5185\u8fb9\u8ddd\n    inset: .fixed(top: 0, leading: 20, bottom: 0, trailing: 20),\n    // \u4e3b\u8f74\u65b9\u5411\u7684\u95f4\u8ddd\uff0c\u4f7f\u7528 `.dynamic` \u53ef\u4ee5\u52a8\u6001\u8bbe\u7f6e\u95f4\u8ddd\u5927\u5c0f\n    mainAxisSpacing: .fixed(10),\n    // \u4ea4\u53c9\u8f74\u65b9\u5411\u7684\u95f4\u8ddd\uff0c\u4f7f\u7528 `.dynamic` \u53ef\u4ee5\u52a8\u6001\u8bbe\u7f6e\u95f4\u8ddd\u5927\u5c0f\n    crossAxisSpacing: .fixed(0),\n    // \u5934\n    header: LKListFlowHeader(\n        // \u4f7f\u7528 `.dynamic` \u53ef\u4ee5\u52a8\u6001\u8bbe\u7f6e\u5934\u90e8\u5927\u5c0f\n        size: .fixed(view.frame.width, 100),\n        render: { (supplementaryView: HeaderView, indexPath) in\n            // ...\n        }\n    ),\n    // \u5c3e\n    header: LKListFlowFooter(\n        // \u4f7f\u7528 `.dynamic` \u53ef\u4ee5\u52a8\u6001\u8bbe\u7f6e\u5934\u90e8\u5927\u5c0f\n        size: .fixed(view.frame.width, 100),\n        render: { (supplementaryView: FooterView, indexPath) in\n            // ...\n        }\n    ),\n    // \u5217\u8868\u9879\n    item: LKListFlowItem<Item>(\n        // \u4f7f\u7528 `.fixed` \u53ef\u4ee5\u56fa\u5b9a\u8bbe\u7f6e\u5934\u90e8\u5927\u5c0f\n        size: .dynamic { (listView, indexPath, item: Item) in\n            return CGSize(\n                // \u5c06\u5bbd\u5ea6\u6539\u4e3a `(view.frame.width / 1 - 40) / 2`\uff0c\u5217\u8868\u4f1a\u663e\u793a\u4e00\u884c\u4e24\u5217\n                width: view.frame.width / 1 - 40,\n                height: item.height\n            )\n        },,\n        render: { (itemView: ItemView, indexPath, item) in\n            itemView.configure(item)\n        }\n    )\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u7ec4\u5408\u5e03\u5c40",children:"\u7ec4\u5408\u5e03\u5c40"}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u6bd4\u6d41\u5f0f\u5e03\u5c40\uff0c\u7ec4\u5408\u5e03\u5c40\u652f\u6301\u66f4\u7075\u6d3b\u7684\u5143\u7d20\u5927\u5c0f\u8bbe\u7f6e\uff08\u652f\u6301\u767e\u5206\u6bd4\u548c\u52a8\u6001\u5bbd\u9ad8\uff09\u548c\u66f4\u590d\u6742\u7684\u5e03\u5c40\u6a21\u5f0f\uff08\u591a\u5c42\u7ec4\u5408\u5d4c\u5957\uff09\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7ec4\u5408\u5e03\u5c40\u975e\u5e38\u7684\u7075\u6d3b\uff0cListKit \u6839\u636e\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u9884\u8bbe\u4e86\u51e0\u79cd\u5217\u8868\u9879\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"LKListCompositionalBlock"}),"\uff1a\u5757\uff0c\u6bcf\u884c/\u5217\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"LKListCompositionalCell"}),"\uff1a\u7f51\u683c\uff0c\u6bcf\u884c/\u5217\u6709\u591a\u4e2a\u5143\u7d20\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"LKListCompositionalWaterfall"}),"\uff1a\u7011\u5e03\u6d41\uff0c\u7c7b\u4f3c\u7f51\u683c\u4f46\u662f\u4e0d\u540c\u5143\u7d20\u7684\u5927\u5c0f\u4e0d\u4e00\u81f4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"LKListCompositionalGroup"}),"\uff1a\u81ea\u5b9a\u4e49\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u5404\u79cd\u5404\u6837\u7684\u5e03\u5c40\u5f62\u5f0f\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u5757\u5217\u8868",children:"\u5757\u5217\u8868"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",metastring:"showLineNumbers",children:'let listView = LKFlatListView<Item>.compositional(\n    frame: view.frame,\n    // \u6570\u636e\u6e90\n    dataSource: dataSource,\n    // \u4e3b\u8f74\u65b9\u5411\n    scrollDirection: .vertical,\n    // \u5185\u8fb9\u8ddd\n    inset: NSDirectionalEdgeInsets(top: 0, leading: 20, bottom: 0, trailing: 20),\n    // \u5934\n    header: LKListCompositionalHeader(\n        size: NSCollectionLayoutSize(\n            widthDimension: .fractionalWidth(1),\n            heightDimension: .absolute(50)\n        ),\n        render: { (supplementary: CustomSupplementary, indexPath) in\n            supplementary.label.text = "Header"\n        }\n    ),\n    // \u5c3e\n    footer: LKListCompositionalFooter(\n        size: NSCollectionLayoutSize(\n            widthDimension: .fractionalWidth(1),\n            heightDimension: .absolute(50)\n        ),\n        render: { (supplementary: CustomSupplementary, indexPath) in\n            supplementary.label.text = "Footer"\n        }\n    ),\n    // \u5217\u8868\u9879\n    item: LKListCompositionalBlock<Item>(\n        // \u4e3b\u8f74\u65b9\u5411\u7684\u5927\u5c0f\uff0c\u6b21\u8f74\u65b9\u5411\u4f1a\u5360\u6ee1\u5217\u8868\n        size: .estimated(100),\n        // \u4e3b\u8f74\u65b9\u5411\u7684\u95f4\u8ddd\n        spacing: 10,\n        render: { (cell: CustomCell, indexPath, item) in\n            cell.configure(item)\n        }\n    )\n)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u7f51\u683c\u5217\u8868",children:"\u7f51\u683c\u5217\u8868"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",metastring:"showLineNumbers",children:'let listView = LKFlatListView<Item>.compositional(\n    frame: view.frame,\n    // \u6570\u636e\u6e90\n    dataSource: dataSource,\n    // \u4e3b\u8f74\u65b9\u5411\n    scrollDirection: .vertical,\n    // \u5185\u8fb9\u8ddd\n    inset: NSDirectionalEdgeInsets(top: 0, leading: 20, bottom: 0, trailing: 20),\n    // \u5934\n    header: LKListCompositionalHeader(\n        size: NSCollectionLayoutSize(\n            widthDimension: .fractionalWidth(1),\n            heightDimension: .absolute(50)\n        ),\n        render: { (supplementary: CustomSupplementary, indexPath) in\n            supplementary.label.text = "Header"\n        }\n    ),\n    // \u5c3e\n    footer: LKListCompositionalFooter(\n        size: NSCollectionLayoutSize(\n            widthDimension: .fractionalWidth(1),\n            heightDimension: .absolute(50)\n        ),\n        render: { (supplementary: CustomSupplementary, indexPath) in\n            supplementary.label.text = "Footer"\n        }\n    ),\n    // \u5217\u8868\u9879\n    item: LKListCompositionalCell(\n        // \u6bcf\u884c/\u5217\u5728\u4e3b\u8f74\u65b9\u5411\u7684\u5927\u5c0f\uff08\u8fd9\u91cc\u7eb5\u5411\u5217\u8868\u5bf9\u5e94\u6bcf\u884c\u7684\u9ad8\u5ea6\uff09\n        mainAxisSize: .estimated(70),\n        // \u5143\u7d20\u5728\u4e3b\u8f74\u65b9\u5411\u7684\u95f4\u8ddd\uff08\u8fd9\u91cc\u7eb5\u5411\u5217\u8868\u5bf9\u5e94\u7f51\u683c\u884c\u95f4\u8ddd\uff09\n        mainAxisSpacing: 10,\n        // \u5143\u7d20\u5728\u78c1\u8f74\u65b9\u5411\u7684\u5927\u5c0f\uff08\u8fd9\u91cc\u7eb5\u5411\u5217\u8868\u5bf9\u5e94\u7f51\u683c\u5217\u95f4\u8ddd\uff09\n        crossAxisSpacing: .fixed(10),\n        // \u5143\u7d20\u5927\u5c0f\n        cellSize: .init(\n            // \u5bbd\u5ea6\u4e3a 0.2(\u5217\u8868\u4e94\u5206\u4e4b\u4e00)\uff0c\u4ee3\u8868\u6bcf\u884c\u6709\u4e94\u5217\n            widthDimension: .fractionalWidth(0.2),\n            // \u9ad8\u5ea6\u548c\u5bbd\u5ea6\u4e00\u81f4\uff08\u5217\u8868\u5bbd\u5ea6\u7684\u4e94\u5206\u4e4b\u4e00\uff09\n            heightDimension: .fractionalWidth(0.2)\n        ),\n        render: { (cell: CustomCell, indexPath, item) in\n            cell.configure(item)\n        }\n    )\n)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u7011\u5e03\u6d41\u5217\u8868",children:"\u7011\u5e03\u6d41\u5217\u8868"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",metastring:"showLineNumbers",children:'let listView = LKFlatListView<Item>.compositional(\n    frame: view.frame,\n    // \u6570\u636e\u6e90\n    dataSource: dataSource,\n    // \u4e3b\u8f74\u65b9\u5411\n    scrollDirection: .vertical,\n    // \u5185\u8fb9\u8ddd\n    inset: NSDirectionalEdgeInsets(top: 0, leading: 20, bottom: 0, trailing: 20),\n    // \u5934\n    header: LKListCompositionalHeader(\n        size: NSCollectionLayoutSize(\n            widthDimension: .fractionalWidth(1),\n            heightDimension: .absolute(50)\n        ),\n        render: { (supplementary: CustomSupplementary, indexPath) in\n            supplementary.label.text = "Header"\n        }\n    ),\n    // \u5c3e\n    footer: LKListCompositionalFooter(\n        size: NSCollectionLayoutSize(\n            widthDimension: .fractionalWidth(1),\n            heightDimension: .absolute(50)\n        ),\n        render: { (supplementary: CustomSupplementary, indexPath) in\n            supplementary.label.text = "Footer"\n        }\n    ),\n    // \u5217\u8868\u9879\n    item: LKListCompositionalWaterfall<Item>(\n        // \u6b21\u8f74\u65b9\u5411\u7684\u5143\u7d20\u6570\u91cf\uff08\u8fd9\u91cc\u662f\u4e24\u5217\uff09\n        crossAxisCount: 2,\n        // \u6b21\u8f74\u65b9\u5411\u7684\u5143\u7d20\u95f4\u8ddd\n        crossAxisSpacing: 15,\n        // \u4e3b\u8f74\u65b9\u5411\u7684\u5143\u7d20\u95f4\u8ddd\n        mainAxisSpacing: 10,\n        // \u5143\u7d20\u7684\u5bbd\u9ad8\u6bd4\u4f8b\n        ratio: { $0.ratio },\n        render: { (cell: CustomCell, indexPath, item) in\n            cell.configure(item)\n        }\n    )\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u591a\u7c7b\u578b\u5143\u7d20",children:"\u591a\u7c7b\u578b\u5143\u7d20"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u4e00\u4e2a\u8d44\u8baf\u4fe1\u606f\u6d41\u5217\u8868\u4e2d\uff0c\u5217\u8868\u9879\u89c6\u56fe\u53ef\u80fd\u4e0d\u662f\u540c\u4e00\u4e2a\u7c7b\u578b\u7684\u3002\u5b83\u4eec\u6709\u4e9b\u53ef\u80fd\u662f\u4e00\u4e2a\u54a8\u8be2\u89c6\u56fe\uff0c\u6709\u4e9b\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u5e7f\u544a\u3002\u4e3a\u4e86\u63d0\u9ad8\u5143\u7d20\u89c6\u56fe\u7684\u590d\u7528\u7387\uff0c",(0,s.jsx)(n.code,{children:"ListKit"})," \u652f\u6301\u52a8\u6001\u6784\u9020\u548c\u590d\u7528\u4e0d\u540c\u7c7b\u578b\u7684\u89c6\u56fe\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",metastring:"showLineNumbers",children:'let listView = LKFlatListView<Item>.compositional(\n    frame: view.frame,\n    // \u6570\u636e\u6e90\n    dataSource: dataSource,\n    // \u4e3b\u8f74\u65b9\u5411\n    scrollDirection: .vertical,\n    // \u5185\u8fb9\u8ddd\n    inset: NSDirectionalEdgeInsets(top: 0, leading: 20, bottom: 0, trailing: 20),\n    // \u5217\u8868\u9879\n    item: LKListCompositionalBlock<Item>(\n        resolve: { index, item in\n            // \u6839\u636e\u5217\u8868\u9879\u6570\u636e\u8fd4\u56de\u89c6\u56fe\u6807\u8bc6\n            return item.type === 0 ? "news" : "ad"\n        },\n        items: [\n            // \u89c6\u56fe\u6807\u8bc6\u548c\u5bf9\u5e94\u7684\u89c6\u56fe\u914d\u7f6e\u9879\n            "news": LKListCompositionalBlock<Item>(\n                // \u4e3b\u8f74\u65b9\u5411\u7684\u5927\u5c0f\uff0c\u6b21\u8f74\u65b9\u5411\u4f1a\u5360\u6ee1\u5217\u8868\n                size: .estimated(100),\n                // \u4e3b\u8f74\u65b9\u5411\u7684\u95f4\u8ddd\n                spacing: 10,\n                render: { (cell: CustomCell, indexPath, item) in\n                    cell.configure(item)\n                }\n            )\n        ]\n    )\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u4e8b\u4ef6\u5904\u7406",children:"\u4e8b\u4ef6\u5904\u7406"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ListKit"})," \u652f\u6301\u94fe\u5f0f\u5199\u6cd5\uff0c\u5728\u5b9e\u4f8b\u5316\u5217\u8868\u540e\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u5bf9\u5e94\u7684\u4e8b\u4ef6\u76d1\u542c\u65b9\u6cd5\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",metastring:"showLineNumbers",children:'let listView = LKFlatListView<Item>.compositional(\n    frame: view.frame,\n    // \u6570\u636e\u6e90\n    dataSource: dataSource,\n    // \u4e3b\u8f74\u65b9\u5411\n    scrollDirection: .vertical,\n    // \u5185\u8fb9\u8ddd\n    inset: NSDirectionalEdgeInsets(top: 0, leading: 20, bottom: 0, trailing: 20),\n    // \u5217\u8868\u9879\n    item: LKListCompositionalBlock<Item>(\n        // \u4e3b\u8f74\u65b9\u5411\u7684\u5927\u5c0f\uff0c\u6b21\u8f74\u65b9\u5411\u4f1a\u5360\u6ee1\u5217\u8868\n        size: .estimated(100),\n        // \u4e3b\u8f74\u65b9\u5411\u7684\u95f4\u8ddd\n        spacing: 10,\n        render: { (cell: CustomCell, indexPath, item) in\n            cell.configure(item)\n        }\n    )\n).onDidSelectItemAt { listView, indexPath, itemIdentifier in\n    print(">> did select item at: \\(itemIdentifier.title)")\n}.onWillDisplayItemAt { listView, view, indexPath, itemIdentifier in\n    print(">> will display item at: \\(itemIdentifier.title)")\n}.onDidDisplayItemAt { listView, view, indexPath, itemIdentifier in\n    print(">> did display item at: \\(itemIdentifier.title)")\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u63a5\u53e3\u6587\u6863",children:"\u63a5\u53e3\u6587\u6863"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lkflatlistview",children:"LKFlatListView"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lkflatlistdatasource",children:"LKFlatListDataSource"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistflowitem",children:"LKListFlowItem"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistflowheader",children:"LKListFlowHeader"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistflowfooter",children:"LKListFlowFooter"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistcompositionalheader",children:"LKListCompositionalHeader"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistcompositionalfooter",children:"LKListCompositionalFooter"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistcompositionalblock",children:"LKListCompositionalBlock"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistcompositionalcell",children:"LKListCompositionalCell"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://listkit.pages.dev/documentation/listkit/lklistcompositionalwaterfall",children:"LKListCompositionalWaterfall"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(6540);const s={},l=t.createContext(s);function a(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);